(function(){var h=function(d,a,c){var e=[],b=function(b,d){var g=e.length+1;e.push(function(){var f=function(a){var b=e[g];return!a&&b?b():!a&&!b?c(null):c(a)};return b&&d?a(b,d,f):a(d,f)})};if(Object.prototype.toString.call(d)==="[object Array]")for(var g=0,f=d.length;g<f;g++)b(void 0,d[g]);if(Object.prototype.toString.call(d)==="[object Object]")for(var j in d)d.hasOwnProperty(j)&&b(j,d[j]);return e[0]()},l={},m=[],i=function(d,a,c,e){var b=function(b,e){if(a[b])(0,l[b])(d,c,a[b],a,function(f){return f?
e({paramName:d,paramValue:c,validatorName:b,validatorValue:a[b]}):e(false)});else return e(false)};return a.required===false&&c===void 0?e(false):h(m,b,e)},k=function(d,a,c){return a.required===false&&d===void 0?c(null):["object","array"].indexOf(a.type)!==-1?i(void 0,a,d,function(e){return e?c(e):a.properties?h(a.properties,function(b,c,e){return c.type==="object"&&c.properties||c.type==="array"?k(d[b],a.properties[b],e):i(b,c,d[b],e)},c):a.items?["object","array"].indexOf(a.items.type)!==-1?h(d,
function(b,c){return k(b,a.items,c)},c):h(d,function(b,c){return i(void 0,a.items,b,c)},c):c(null)}):i(void 0,a,d,c)},f={validate:function(){return k.apply(this,arguments)},addValidator:function(d,a){m.push(d);l[d]=a},getVersion:function(){return"0.0.1"}};f.addValidator("type",function(){var d={array:function(a){return Array.isArray(a)},alpha:function(a){return typeof a==="string"&&a.match(/^[a-zA-Z]+$/)},alphanumeric:function(a){return typeof a==="string"&&/^[a-zA-Z0-9]+$/.test(a)||typeof a==="number"},
ipv4:function(a){return typeof a==="string"&&a.match(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/)},ipv6:function(a){return typeof a==="string"&&a.match(/(?:(?:[a-f\d]{1,4}:)*(?:[a-f\d]{1,4}|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})|(?:(?:[a-f\d]{1,4}:)*[a-f\d]{1,4})?::(?:(?:[a-f\d]{1,4}:)*(?:[a-f\d]{1,4}|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}))?)/)},ip:function(a){return d.ipv4(a)||d.ipv6},email:function(a){return typeof a==="string"&&a.match(/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/)},
url:function(a){return typeof a==="string"&&a.match(/^(?:(?:ht|f)tp(?:s?)\:\/\/|~\/|\/)?(?:\w+:\w+@)?((?:(?:[-\w\d{1-3}]+\.)+(?:com|org|cat|coop|int|pro|tel|xxx|net|gov|mil|biz|info|mobi|name|aero|jobs|edu|co\.uk|ac\.uk|it|fr|tv|museum|asia|local|travel|[a-z]{2})?)|((\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)(\.(\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)){3}))(?::[\d]{1,5})?(?:(?:(?:\/(?:[-\w~!$+|.,=]|%[a-f\d]{2})+)+|\/)+|\?|#)?(?:(?:\?(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)(?:&(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)*)*(?:#(?:[-\w~!$ |\/.,*:;=]|%[a-f\d]{2})*)?$/)},
date:function(a){return Object.prototype.toString.call(a)==="[object Date]"},decimal:function(a){return/^[0-9]+(\.[0-9]{1,2})?$/.test(a)},"int":function(a){return/^-?[0-9]+$/.test(a)},percentage:function(a){return typeof a==="string"&&a.match(/^-?[0-9]{0,2}(\.[0-9]{1,2})?$|^-?(100)(\.[0]{1,2})?$/)},port:function(a){return/\:\d+/.test(a)},regexp:function(a){return a&&a.test&&a.exec},unsignedInt:function(a){return/^[0-9]+$/.test(a)}};["string","number","function","object","boolean"].forEach(function(a){d[a]=
function(c){return typeof c===a?true:false}});return function(a,c,e,b,f){return d[e](c)?f(false):f(true)}}());f.addValidator("length",function(d,a,c,e,b){return typeof a==="string"?Array.isArray(c)&&(a.length<c[0]||a.length>c[1])?b(true):typeof c==="number"&&a.length!==c?b(true):b(false):b(false)});f.addValidator("values",function(d,a,c,e,b){return c.indexOf(a)===-1?b(true):b(false)});f.addValidator("except",function(d,a,c,e,b){return c.indexOf(a)!==-1?b(true):b(false)});f.addValidator("min",function(d,
a,c,e,b){return typeof a!=="number"||a<c?b(true):b(false)});f.addValidator("max",function(d,a,c,e,b){return typeof a!=="number"||a>c?b(true):b(false)});f.addValidator("pattern",function(d,a,c,e,b){return typeof a==="string"&&!a.match(c)?b(true):b(false)});typeof module!=="undefined"&&module.exports?module.exports=f:typeof define!=="undefined"?define(function(){return f}):this.amanda=f})();