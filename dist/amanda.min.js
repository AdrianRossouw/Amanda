(function(){var k=function(b){return"[object Object]"===Object.prototype.toString.call(b)},i=function(b){return"[object Array]"===Object.prototype.toString.call(b)},j=function(b){if(i(b))return 0===b.length;if(k(b))for(var a in b)if(hasOwnProperty.call(b,a))return!1;return!0},f=function(b,a,d){var c=function(a,d){if(i(a)&&!j(a))for(var b=0,e=a.length;b<e;b++)d(b,a[b]);if(k(a)&&!j(a))for(var c in a)a.hasOwnProperty(c)&&d(c,a[c])},e=function(a,d,b){var e;if(k(a)&&!j(a))e=Object.keys(a).length;else if(i(a)&&
!j(a))e=a.length;else return b();var f=function(a){e-=1;a&&(b(a),b=function(){});if(!a&&0===e)return b()};c(a,function(a,b){return d(a,b,f)})};return"undefined"===typeof d?c.apply(this,arguments):e.apply(this,arguments)},l=function(){this.length=0};l.prototype.addError=function(b){this[this.length]=b;this.length++};f({getProperties:"property",getMessages:"message"},function(b,a){l.prototype[b]=function(){for(var b=[],c=0,e=this.length;c<e;c++){var g=this[c][a];-1===b.indexOf(g)&&b.push(g)}return b}});
var h=function(b){var a=this;this.Errors=new l;f(["singleError","validators"],function(d,c){a[c]=b[c]})};h.prototype.validateProperty=function(b,a,d,c){var e=this,g=function(c,g,f){if(d[c])g(b,a,d[c],d,function(g){return g?(e.Errors.addError({property:b,propertyValue:a,validator:c,validatorValue:d[c],message:g}),e.singleError?f(!0):f()):f()});else return f()};return!0!==d.required&&"undefined"===typeof a?c():f(e.validators,g,c)};h.prototype.validate=function(b,a,d){var c=this;return this.validateSchema(b,
a,"",function(){return d(0<c.Errors.length?c.Errors:void 0)})};h.prototype.validateSchema=function(b,a,d,c){var e=this;return-1!==["object","array"].indexOf(a.type)?e.validateProperty(d,b,a,function(){return a.properties?f(a.properties,function(c,f,o){var i="object"===f.type&&f.properties,j="array"===f.type,h=e.getProperty(b,c),k=0===d.length?c:d+"."+c;return i||j?e.validateSchema(h,a.properties[c],k,o):e.validateProperty(k,h,f,o)},c):a.items?b&&!j(b)?-1!==["object","array"].indexOf(a.items.type)?
f(b,function(b,c,f){return e.validateSchema(c,a.items,d+"["+b+"]",f)},c):f(b,function(b,c,f){return e.validateProperty(d+"["+b+"]",c,a.items,f)},c):c():c()}):e.validateProperty(d,b,a,c)};h.prototype.getProperty=function(b,a){if(b)return b[a]};var m={required:function(b,a,d,c,e){return d&&!a?e("\u2018"+b+"\u2019 is required"):e()},type:function(){var b={object:function(a){return"[object Object]"===Object.prototype.toString.call(a)},array:function(a){return"[object Array]"===Object.prototype.toString.call(a)}};
["string","number","function","boolean"].forEach(function(a){b[a]=function(b){return typeof b===a}});return function(a,d,c,e,f){return"[object Array]"===Object.prototype.toString.call(c)?options.some(function(a){return b[a](d)})?f():f("\u2018"+a+"\u2019 must be "+c.join(" or ")):b[c](d)?f():f("\u2018"+a+"\u2019 must be "+c)}}(),format:function(){var b={alpha:function(a){return"string"===typeof a&&a.match(/^[a-zA-Z]+$/)},alphanumeric:function(a){return"string"===typeof a&&/^[a-zA-Z0-9]+$/.test(a)||
"number"===typeof a},ipv4:function(a){return"string"===typeof a&&a.match(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/)},ipv6:function(a){return"string"===typeof a&&a.match(/(?:(?:[a-f\d]{1,4}:)*(?:[a-f\d]{1,4}|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})|(?:(?:[a-f\d]{1,4}:)*[a-f\d]{1,4})?::(?:(?:[a-f\d]{1,4}:)*(?:[a-f\d]{1,4}|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}))?)/)},ip:function(a){return b.ipv4(a)||b.ipv6},email:function(a){return"string"===typeof a&&a.match(/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/)},
url:function(a){return"string"===typeof a&&a.match(/^(?:(?:ht|f)tp(?:s?)\:\/\/|~\/|\/)?(?:\w+:\w+@)?((?:(?:[-\w\d{1-3}]+\.)+(?:com|org|cat|coop|int|pro|tel|xxx|net|gov|mil|biz|info|mobi|name|aero|jobs|edu|co\.uk|ac\.uk|it|fr|tv|museum|asia|local|travel|[a-z]{2})?)|((\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)(\.(\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)){3}))(?::[\d]{1,5})?(?:(?:(?:\/(?:[-\w~!$+|.,=]|%[a-f\d]{2})+)+|\/)+|\?|#)?(?:(?:\?(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)(?:&(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)*)*(?:#(?:[-\w~!$ |\/.,*:;=]|%[a-f\d]{2})*)?$/)},
date:function(a){return"[object Date]"===Object.prototype.toString.call(a)},decimal:function(a){return/^[0-9]+(\.[0-9]{1,2})?$/.test(a)},"int":function(a){return/^-?[0-9]+$/.test(a)},percentage:function(a){return"string"==typeof a&&a.match(/^-?[0-9]{0,2}(\.[0-9]{1,2})?$|^-?(100)(\.[0]{1,2})?$/)||-100<=a&&100>=a},port:function(a){return/\:\d+/.test(a)},regexp:function(a){return a&&a.test&&a.exec},unsignedInt:function(a){return/^[0-9]+$/.test(a)}};return function(a,d,c,e,f){return"[object Array]"===
Object.prototype.toString.call(c)?options.some(function(a){return b[a](d)})?f():f(!0):b[c](d)?f():f(!0)}}(),length:function(b,a,d,c,e){return"string"===typeof a?Array.isArray(d)&&(a.length<d[0]||a.length>d[1])?e(!0):"number"===typeof d&&a.length!==d?e(!0):e():e()},"enum":function(b,a,d,c,e){return-1===d.indexOf(a)?e(!0):e()},except:function(b,a,d,c,e){return-1!==d.indexOf(a)?e(!0):e()},minimum:function(b,a,d,c,e){return"number"===typeof a?(c.exclusiveMinimum?a>=d:a>d)?e():e(!0):e(!0)},maximum:function(b,
a,d,c,e){return"number"===typeof a?(c.exclusiveMaximum?a<=d:a<d)?e():e(!0):e(!0)},pattern:function(b,a,d,c,e){return"string"===typeof a&&!a.match(d)?e(!0):e()},minItems:function(b,a,d,c,e){return i(a)&&a.length>=d?e():e(!0)},maxItems:function(b,a,d,c,e){return i(a)&&a.length<=d?e():e(!0)},uniqueItems:function(b,a,d,c,e){return f(a,function(b,c,d){return a.indexOf(c)<b?d(!0):d()},e)},divisibleBy:function(b,a,d,c,e){return"number"===typeof a&&0===a%d?e():e(!0)}},n={validate:function(b,a,d,c){"function"===
typeof d&&(c=d,d={singleError:!0});d.validators=m;return(new h(d)).validate(b,a,c)},addValidator:function(b,a){m[b]=a},getVersion:function(){return"0.2.0"},getValidators:function(){return m}};"undefined"!==typeof module&&module.exports?module.exports=n:"undefined"!==typeof define?define(function(){return n}):this.amanda=n})();