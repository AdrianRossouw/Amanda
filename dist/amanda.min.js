(function(){var h=function(d,a,c){var e=[],b=function(b,d){var g=e.length+1;e.push(function(){var f=function(a){var b=e[g];return!a&&b?b():!a&&!b?c(null):c(a)};return b&&d?a(b,d,f):a(d,f)})};if("[object Array]"===Object.prototype.toString.call(d))for(var g=0,f=d.length;g<f;g++)b(void 0,d[g]);if("[object Object]"===Object.prototype.toString.call(d))for(var j in d)d.hasOwnProperty(j)&&b(j,d[j]);return e[0]()},l={},i=function(d,a,c,e){var b=function(b,e,f){if(a[b])e(d,c,a[b],a,function(e){return e?f({paramName:d,
paramValue:c,validatorName:b,validatorValue:a[b]}):f()});else return f()};return!1===a.required&&void 0===c?e():h(l,b,e)},k=function(d,a,c){return!1===a.required&&void 0===d?c(null):-1!==["object","array"].indexOf(a.type)?i(void 0,a,d,function(e){return e?c(e):a.properties?h(a.properties,function(b,c,e){return"object"===c.type&&c.properties||"array"===c.type?k(d[b],a.properties[b],e):i(b,c,d[b],e)},c):a.items?-1!==["object","array"].indexOf(a.items.type)?h(d,function(b,c){return k(b,a.items,c)},c):
h(d,function(b,c){return i(void 0,a.items,b,c)},c):c(null)}):i(void 0,a,d,c)},f={validate:function(d,a,c,e){return k.apply(this,arguments)},addValidator:function(d,a){l[d]=a},getVersion:function(){return"0.0.1"}};f.addValidator("type",function(){var d={array:function(a){return Array.isArray(a)},alpha:function(a){return"string"===typeof a&&a.match(/^[a-zA-Z]+$/)},alphanumeric:function(a){return"string"===typeof a&&/^[a-zA-Z0-9]+$/.test(a)||"number"===typeof a},ipv4:function(a){return"string"===typeof a&&
a.match(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/)},ipv6:function(a){return"string"===typeof a&&a.match(/(?:(?:[a-f\d]{1,4}:)*(?:[a-f\d]{1,4}|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})|(?:(?:[a-f\d]{1,4}:)*[a-f\d]{1,4})?::(?:(?:[a-f\d]{1,4}:)*(?:[a-f\d]{1,4}|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}))?)/)},ip:function(a){return d.ipv4(a)||d.ipv6},email:function(a){return"string"===typeof a&&a.match(/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/)},
url:function(a){return"string"===typeof a&&a.match(/^(?:(?:ht|f)tp(?:s?)\:\/\/|~\/|\/)?(?:\w+:\w+@)?((?:(?:[-\w\d{1-3}]+\.)+(?:com|org|cat|coop|int|pro|tel|xxx|net|gov|mil|biz|info|mobi|name|aero|jobs|edu|co\.uk|ac\.uk|it|fr|tv|museum|asia|local|travel|[a-z]{2})?)|((\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)(\.(\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)){3}))(?::[\d]{1,5})?(?:(?:(?:\/(?:[-\w~!$+|.,=]|%[a-f\d]{2})+)+|\/)+|\?|#)?(?:(?:\?(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)(?:&(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)*)*(?:#(?:[-\w~!$ |\/.,*:;=]|%[a-f\d]{2})*)?$/)},
date:function(a){return"[object Date]"===Object.prototype.toString.call(a)},decimal:function(a){return/^[0-9]+(\.[0-9]{1,2})?$/.test(a)},"int":function(a){return/^-?[0-9]+$/.test(a)},percentage:function(a){return"string"===typeof a&&a.match(/^-?[0-9]{0,2}(\.[0-9]{1,2})?$|^-?(100)(\.[0]{1,2})?$/)},port:function(a){return/\:\d+/.test(a)},regexp:function(a){return a&&a.test&&a.exec},unsignedInt:function(a){return/^[0-9]+$/.test(a)}};["string","number","function","object","boolean"].forEach(function(a){d[a]=
function(c){return typeof c===a?!0:!1}});return function(a,c,e,b,f){return d[e](c)?f():f(!0)}}());f.addValidator("length",function(d,a,c,e,b){return"string"===typeof a?Array.isArray(c)&&(a.length<c[0]||a.length>c[1])?b(!0):"number"===typeof c&&a.length!==c?b(!0):b():b()});f.addValidator("values",function(d,a,c,e,b){return-1===c.indexOf(a)?b(!0):b()});f.addValidator("except",function(d,a,c,e,b){return-1!==c.indexOf(a)?b(!0):b()});f.addValidator("min",function(d,a,c,e,b){return"number"!==typeof a||
a<c?b(!0):b()});f.addValidator("max",function(d,a,c,e,b){return"number"!==typeof a||a>c?b(!0):b()});f.addValidator("pattern",function(d,a,c,e,b){return"string"===typeof a&&!a.match(c)?b(!0):b()});"undefined"!==typeof module&&module.exports?module.exports=f:"undefined"!==typeof define?define(function(){return f}):this.amanda=f})();