(function(){var g=function(c,a,b,e,d){for(var h=["paramName","paramValue","validatorName","validatorValue","message"],i=0,f=arguments.length;i<f;i++)this[h[i]]=arguments[i];return this},j=function(c,a,b){var e=[],d=function(c,d){var h=e.length+1;e.push(function(){var f=function(a){var c=e[h];return!a&&c?c():!a&&!c?b(null):b(a)};return c&&d?a(c,d,f):a(d,f)})};if(Object.prototype.toString.call(c)==="[object Array]")for(var h=0,f=c.length;h<f;h++)d(void 0,c[h]);if(Object.prototype.toString.call(c)===
"[object Object]")for(var g in c)c.hasOwnProperty(g)&&d(g,c[g]);return e[0]()},m={},n=[],k=function(c,a,b,e){var d=function(d,e){if(a[d])(0,m[d])(c,b,a[d],a,e);else return e(null)};return a.required===false&&b===void 0?e(null):j(n,d,e)},l=function(c,a,b){return a.required===false&&c===void 0?b(null):["object","array"].indexOf(a.type)!==-1?k(void 0,a,c,function(e){if(e)return b(e);else if(a.properties)return j(a.properties,function(b,e,f){return e.type==="object"&&e.properties||e.type==="array"?l(c[b],
a.properties[b],f):k(b,e,c[b],f)},b);else if(a.items)if(a.items.type==="object"||a.items.type==="array")j(c,function(b,c){return l(b,a.items,c)},b);else return j(c,function(b,c){return k(void 0,a.items,b,c)},b);else return b(null)}):k(void 0,a,c,b)},f={validate:function(){return l.apply(this,arguments)},addValidator:function(c,a){n.push(c);m[c]=a}};f.addValidator("type",function(){var c={array:function(a){return Array.isArray(a)},alpha:function(a){return typeof a==="string"&&a.match(/^[a-zA-Z]+$/)},
alphanumeric:function(a){return typeof a==="string"&&/^[a-zA-Z0-9]+$/.test(a)||typeof a==="number"},ipv4:function(a){return typeof a==="string"&&a.match(/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/)},ipv6:function(a){return typeof a==="string"&&a.match(/(?:(?:[a-f\d]{1,4}:)*(?:[a-f\d]{1,4}|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3})|(?:(?:[a-f\d]{1,4}:)*[a-f\d]{1,4})?::(?:(?:[a-f\d]{1,4}:)*(?:[a-f\d]{1,4}|\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}))?)/)},ip:function(a){return c.ipv4(a)||
c.ipv6},email:function(a){return typeof a==="string"&&a.match(/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/)},url:function(a){return typeof a==="string"&&a.match(/^(?:(?:ht|f)tp(?:s?)\:\/\/|~\/|\/)?(?:\w+:\w+@)?((?:(?:[-\w\d{1-3}]+\.)+(?:com|org|cat|coop|int|pro|tel|xxx|net|gov|mil|biz|info|mobi|name|aero|jobs|edu|co\.uk|ac\.uk|it|fr|tv|museum|asia|local|travel|[a-z]{2})?)|((\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)(\.(\b25[0-5]\b|\b[2][0-4][0-9]\b|\b[0-1]?[0-9]?[0-9]\b)){3}))(?::[\d]{1,5})?(?:(?:(?:\/(?:[-\w~!$+|.,=]|%[a-f\d]{2})+)+|\/)+|\?|#)?(?:(?:\?(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)(?:&(?:[-\w~!$+|.,*:]|%[a-f\d{2}])+=?(?:[-\w~!$+|.,*:=]|%[a-f\d]{2})*)*)*(?:#(?:[-\w~!$ |\/.,*:;=]|%[a-f\d]{2})*)?$/)},
date:function(a){return Object.prototype.toString.call(a)==="[object Date]"},decimal:function(a){return/^[0-9]+(\.[0-9]{1,2})?$/.test(a)},"int":function(a){return/^-?[0-9]+$/.test(a)},percentage:function(a){return typeof a==="string"&&a.match(/^-?[0-9]{0,2}(\.[0-9]{1,2})?$|^-?(100)(\.[0]{1,2})?$/)},port:function(a){return/\:\d+/.test(a)},regexp:function(a){return a&&a.test&&a.exec},unsignedInt:function(a){return/^[0-9]+$/.test(a)}};["string","number","function","object","boolean"].forEach(function(a){c[a]=
function(b){return typeof b===a?true:false}});return function(a,b,e,d,f){return c[e](b)?f(null):f(new g(a,b,"type",e,null))}}());f.addValidator("length",function(c,a,b,e,d){if(typeof a==="string"){if(Array.isArray(b)&&(a.length<b[0]||a.length>b[1]))return d(new g(c,a,"length",b,null));if(typeof b==="number"&&a.length!==b)return d(new g(c,a,"length",b,null))}return d(null)});f.addValidator("values",function(c,a,b,e,d){return b.indexOf(a)===-1?d(new g(c,a,"values",b,null)):d(null)});f.addValidator("except",
function(c,a,b,e,d){return b.indexOf(a)!==-1?d(new g(c,a,"except",b,null)):d(null)});f.addValidator("min",function(c,a,b,e,d){return typeof a==="number"&&a<b?d(new g(c,a,"min",b,null)):d(null)});f.addValidator("max",function(c,a,b,e,d){return typeof a==="number"&&a>b?d(new g(c,a,"max",b,null)):d(null)});f.addValidator("pattern",function(c,a,b,e,d){return typeof a==="string"&&!a.match(b)?d(new g(c,a,"pattern",b,null)):d(null)});typeof module!=="undefined"&&module.exports?module.exports=f:typeof define!==
"undefined"?define(function(){return f}):this.amanda=f})();